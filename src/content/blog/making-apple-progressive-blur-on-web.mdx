---
title: Making Apple Progressive Blur on the Web
image: /images/blur-blog.png
description: Developing Apple-inspired progressive blur for the web; Technical insights and challenges.
excerpt: Technical insights and challenges of implementing progressive blur for your browser.
pubDate: 'Apr 5 2024'
---
import {Image} from 'astro:assets';

Apple consistently sets the benchmark for great design, defining or popularizing trends that quickly spread worldwide and get widely adopted. Recently, they have emphasized progressive blur, visible in the App Store, Apple Maps, and the new Apple visionOS. This inspired me to explore whether I could recreate this effect for the web (<a class="external-link" href="https://news.ycombinator.com/item?id=39962411" target="_blank">for users outside the Apple ecosystem</a>).

<figure>
    <Image src="/blog/making-apple-progressive-blur-on-web/apple-blur.png" width="1080" alt="Examples of Apple Blur"/>
    <figcaption>Examples of Apple usages of progressive blur</figcaption>
</figure>

While redesigning this blog, I wanted a blurred header. The common approach—applying a single blur with a semi-transparent solid color—felt too plain and uninspired. I wanted a progressive blur effect similar to Apple's signature style.

## Gradient Blur Since 2009
Progressive blur, also known as 'gradient blur,' is not new. It appears in <a class="external-link" href="https://community.adobe.com/t5/photoshop-ecosystem-discussions/how-can-i-create-a-gradient-blur/td-p/1554916" target="_blank">Photoshop forums from 2009</a>, a <a class="external-link" href="https://stackoverflow.com/questions/45381849/how-to-achieve-a-progressive-blur-using-svg-by-combining-a-filter-with-a-mask" target="_blank">Stack Overflow question from 2017</a>, and a <a class="external-link" href="https://support.apple.com/sk-sk/guide/motion/motn169fcc4b/5.4.4/mac/10.14" target="_blank">Motion guide from 2019</a>. However, I found no practical examples or easy HTML and CSS generators for progressive blur on the web.

My initial solution for this blog used <a class="external-link" href="https://codepen.io/silas/pen/rNYqZoz" target="_blank">this CodePen</a>. It stacks multiple divs, each with increasing backdrop blur and gradient masks, progressively blurring the background. While effective for a single use, I wanted a flexible method that works on any element without extensive CSS tuning.

## The Blur Is Not Enough
You might wonder: why stack blurs instead of using a single blur with a mask? <a class="external-link" href="https://www.purplesquirrels.com.au/2023/11/blur-gradient-with-css/" target="_blank">Here is an example</a> of a single-blur effect. The blurred area looks like a bloom, and the transition between blurred and sharp is nearly invisible. Using white text, as Apple does, causes poor readability because the background retains high-frequency color changes.


<Image src="/blog/making-apple-progressive-blur-on-web/image_11.png" width="1080"
       alt="Use of a single blur with alpha mask"/>

Progressive blur addresses this by increasing blur progressively to lower background frequency and improve text readability. Simply increasing blur radius doesn’t work; at `32px` blur (instead of `10px`), the image becomes hazy and loses the intended effect due to over-blurring.

<figure>
    <Image src="/blog/making-apple-progressive-blur-on-web/image_7.png" width="1080"
           alt="Use of a single blur with alpha mask and too high blur radius"/>
    <figcaption>Too high blur radius</figcaption>
</figure>

## Stacking Blurs
My takeaways so far are:
1. the stacking is definitely needed
2. doing it manually every time is not viable


Only one possible conclusion could have come out of this: I need to make a progressive blur editor with a HTML + css generator.

### Using Backdrop Filter
My first step was to transform the static blur into an interactive tool with editable parameters. I created a simple website featuring images and sliders to adjust blur settings visually. Multiple `div` elements layered over the image applied incremental backdrop blur filters with linear gradient masks.

<figure>
    <Image src="/blog/making-apple-progressive-blur-on-web/image_4.png" width="1080"
           alt="Initial design of progressive blur using backdrop filter"/>
    <figcaption>The initial design using backdrop filter</figcaption>
</figure>

This approach delivered the desired effect and performed efficiently, although I have not benchmarked it formally. However, it revealed a flaw: increasing the wrapping element's `border-radius` caused issues in Chrome, the leading browser by Google:

<figure>
    <Image src="/blog/making-apple-progressive-blur-on-web/image_10.png" width="1080"
           alt="The broken progressive blur on chrome"/>
    <figcaption>The result on chrome</figcaption>
</figure>

Chromium struggles with multiple stacked backdrop filters combined with masks and `overflow: hidden` on the wrapper. The cause remains unclear, but <a class="external-link" href="https://stackoverflow.com/a/73156812" target="_blank">this Stack Overflow answer</a> offers insights. Surprisingly, Safari and Firefox handle border-radius and progressive blur simultaneously without issue. Since Chrome dominates browser usage, we needed a compatible solution for it.

<figure>
    <Image src="/blog/making-apple-progressive-blur-on-web/image_8.png" width="1080"
           alt="The correct progressive blur on safari and firefox"/>
    <figcaption>The result on Safari and Firefox</figcaption>
</figure>

### Blurring Multiple Images On Top Of Each Other
The alternative solution supports border radius in Chrome but is resource-intensive—it sometimes causes lag, indicating performance issues—and is not recommended for production use on websites. Proceed with caution.

<figure>
    <Image src="/blog/making-apple-progressive-blur-on-web/blur-layers.png" width="1080"
           alt="Visualization of the separate blur layers"/>
    <figcaption>The stacked blur layers</figcaption>
</figure>

This method builds progressive blur by stacking multiple divs, each showing the original image as a background with blur and mask applied. Without using backdrop filters, it handles border-radius correctly. The drawback is duplicating large images with substantial blur radii (up to `512px`), which consumes significant resources. Below is a comparison between the two approaches: backdrop-filter on the left and stacked blur layers on the right.

<Image src="/blog/making-apple-progressive-blur-on-web/Frame_89.png" width="1080"
       alt="Comparison of different blur approaches"/>

They look pretty much the same, except for this part:
<Image src="/blog/making-apple-progressive-blur-on-web/image_1729.png" width="1080"
       alt="Zoom in on the broken part of the blur"/>

The artifact occurs because the blur filter does not extend beyond the image edges (due to zero padding), resulting in incomplete blur even at `512px` radius. To fix this, I scaled the image up by 1.2 times. This value worked well in most cases without cropping too much of the image. It is still a tradeoff, but if we are using the progressively blurred image as a card, we can afford our image to be cut off. Below is the comparison with the scaled image using blurs:

<Image src="/blog/making-apple-progressive-blur-on-web/Frame_891_1.png" width="1080"
       alt="comparison of the approaches, with the scaled image added"/>

An alternative approach is to scale only the blur, allowing the effect to reach edges while keeping the original image unchanged. However, this fails here because the blurred layer must align perfectly with the background image. Any scaling or offset difference causes visible mismatch, as shown below: left image scales only blur; right image scales both blur and image.

<Image src="/blog/making-apple-progressive-blur-on-web/Frame_90.png" width="1080"
       alt="comparison of the scale approaches, with the broken part highlighted"/>

## The Generator
The generator is simple: it accepts parameter inputs via sliders, calculates mask alpha gradients, blur intensities, and creates the corresponding div elements with blur effects. It displays the progressively blurred image and generates copy-paste-ready HTML and CSS code for your website.

Try the interactive progressive blur generator here: <a class="external-link" href="https://www.posterramen.devslovecoffee.com/progressive-blur" target="_blank">posterramen.devslovecoffee.com/progressive-blur</a>

View the project source code here: <a class="external-link" href="https://github.com/devslovecoffee/PosterRamen/tree/main/components/progressive-blur" target="_blank">GitHub repository</a>.